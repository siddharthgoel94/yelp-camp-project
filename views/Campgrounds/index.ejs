<%layout('layouts/boilerplate')%>
<link rel="stylesheet" href="/styles/index.css">
<script>
    const mapToken='<%-process.env.MAPBOX_TOKEN%>';
    const campgrounds={features: <%-JSON.stringify(campgrounds)%> }
</script>
<h1 class="index-text mb-3">Explore all campgrounds on this interactive map!!</h1>
<div id="map" class="map-cluster mb-3"></div>
    <!-- <h1>All campgrounds</h1> -->
    <!-- <h2><a href="/campground/new">Add a campground</a></h2> -->
   
        <%for(let camp of campgrounds){%>
            <!-- <li><a href="campground/<%=camp.id%>"><%=camp.title%></a></li> -->
            <div class="card mb-3">
                <div class="row camp-box">
                    <div class="col-md-4 img-holder">
                        <% if(camp.images.length>0){ %>
                        <img crossorigin="anonymous" src="<%=camp.images[0].url%>" alt="" class="img-thumbnail camp-img">
                        <% } %>
                     </div>
                     <div class="col-md-8">
                        <h5 class="card-title mt-3"><%=camp.title%></h5>
                        
                            <p> <%=camp.description%></p>
                            <span class='text-muted'><p> <%=camp.location%></p></span>
                            <!-- <p>Price:$ <%=camp.price%></p> -->
                            <a href='/campgrounds/<%=camp._id%>'> <button class="btn btn-primary">View <%=camp.title%></button></a>
                     </div>

                </div>
                
            </div>
            <%}%>
        
    <script src="/javascripts/clusterMap.js"></script>
    
